{"ast":null,"code":"import 'whatwg-fetch';\nlet fetch = window.fetch;\nexport default class APIUtils {\n  static getJSONWithCredentials(url, success, error) {\n    fetch(url, {\n      method: 'get',\n      credentials: 'include'\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n  static getJSONWithoutCredentials(url, success, error) {\n    fetch(url, {\n      method: 'get'\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n  static postJSONWithCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: formData\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n  static postJSONWithoutCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: formData\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n  static postFormDataWithCredentials(url, formData, success, error) {\n    console.log(formData);\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: formData\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n  static postFileWithCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      body: formData\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n  static postFormDataContainFileWithCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      body: formData\n    }).then(resp => {\n      return resp.json();\n    }).then(returnedValue => {\n      success(returnedValue);\n    }).catch(function (ex) {\n      if (error) {\n        error(ex);\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/trungnd2/Downloads/insee-client/src/utils/APIUtils.js"],"names":["fetch","window","APIUtils","getJSONWithCredentials","url","success","error","method","credentials","then","resp","json","returnedValue","catch","ex","getJSONWithoutCredentials","postJSONWithCredentials","formData","headers","body","postJSONWithoutCredentials","postFormDataWithCredentials","console","log","postFileWithCredentials","postFormDataContainFileWithCredentials"],"mappings":"AAAA,OAAO,cAAP;AACA,IAAIA,KAAK,GAAGC,MAAM,CAACD,KAAnB;AAEA,eAAe,MAAME,QAAN,CAAe;AACC,SAAtBC,sBAAsB,CAACC,GAAD,EAAMC,OAAN,EAAeC,KAAf,EAAsB;AACjDN,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,WAAW,EAAE;AAFJ,KAAN,CAAL,CAIGC,IAJH,CAIQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KANH,EAOGF,IAPH,CAOQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KATH,EAUGC,KAVH,CAUS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAdH;AAeD;;AAE+B,SAAzBC,yBAAyB,CAACX,GAAD,EAAMC,OAAN,EAAeC,KAAf,EAAsB;AACpDN,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE;AADC,KAAN,CAAL,CAGGE,IAHH,CAGQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KALH,EAMGF,IANH,CAMQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KARH,EASGC,KATH,CASS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAbH;AAcD;;AAE6B,SAAvBE,uBAAuB,CAACZ,GAAD,EAAMa,QAAN,EAAgBZ,OAAhB,EAAyBC,KAAzB,EAAgC;AAC5DN,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,WAAW,EAAE,SAFJ;AAGTU,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHA;AAMTC,MAAAA,IAAI,EAAEF;AANG,KAAN,CAAL,CAQGR,IARH,CAQQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAVH,EAWGF,IAXH,CAWQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KAbH,EAcGC,KAdH,CAcS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAlBH;AAmBD;;AAEgC,SAA1BM,0BAA0B,CAAChB,GAAD,EAAMa,QAAN,EAAgBZ,OAAhB,EAAyBC,KAAzB,EAAgC;AAC/DN,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE,MADC;AAETW,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFA;AAKTC,MAAAA,IAAI,EAAEF;AALG,KAAN,CAAL,CAOGR,IAPH,CAOQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KATH,EAUGF,IAVH,CAUQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KAZH,EAaGC,KAbH,CAaS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAjBH;AAkBD;;AAEiC,SAA3BO,2BAA2B,CAACjB,GAAD,EAAMa,QAAN,EAAgBZ,OAAhB,EAAyBC,KAAzB,EAAgC;AAChEgB,IAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACAjB,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,WAAW,EAAE,SAFJ;AAGTU,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHA;AAMTC,MAAAA,IAAI,EAAEF;AANG,KAAN,CAAL,CAQGR,IARH,CAQQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAVH,EAWGF,IAXH,CAWQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KAbH,EAcGC,KAdH,CAcS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAlBH;AAmBD;;AAE6B,SAAvBU,uBAAuB,CAACpB,GAAD,EAAMa,QAAN,EAAgBZ,OAAhB,EAAyBC,KAAzB,EAAgC;AAC5DN,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,WAAW,EAAE,SAFJ;AAGTW,MAAAA,IAAI,EAAEF;AAHG,KAAN,CAAL,CAKGR,IALH,CAKQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAPH,EAQGF,IARH,CAQQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KAVH,EAWGC,KAXH,CAWS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAfH;AAgBD;;AAE4C,SAAtCW,sCAAsC,CAACrB,GAAD,EAAMa,QAAN,EAAgBZ,OAAhB,EAAyBC,KAAzB,EAAgC;AAC3EN,IAAAA,KAAK,CAACI,GAAD,EAAM;AACTG,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,WAAW,EAAE,SAFJ;AAGTW,MAAAA,IAAI,EAAEF;AAHG,KAAN,CAAL,CAKGR,IALH,CAKQC,IAAI,IAAI;AACZ,aAAOA,IAAI,CAACC,IAAL,EAAP;AACD,KAPH,EAQGF,IARH,CAQQG,aAAa,IAAI;AACrBP,MAAAA,OAAO,CAACO,aAAD,CAAP;AACD,KAVH,EAWGC,KAXH,CAWS,UAASC,EAAT,EAAa;AAClB,UAAIR,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACQ,EAAD,CAAL;AACD;AACF,KAfH;AAgBD;;AA1I2B","sourcesContent":["import 'whatwg-fetch';\nlet fetch = window.fetch;\n\nexport default class APIUtils {\n  static getJSONWithCredentials(url, success, error) {\n    fetch(url, {\n      method: 'get',\n      credentials: 'include'\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n\n  static getJSONWithoutCredentials(url, success, error) {\n    fetch(url, {\n      method: 'get'\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n\n  static postJSONWithCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: formData\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n\n  static postJSONWithoutCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: formData\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n\n  static postFormDataWithCredentials(url, formData, success, error) {\n    console.log(formData)\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: formData\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n\n  static postFileWithCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      body: formData\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n\n  static postFormDataContainFileWithCredentials(url, formData, success, error) {\n    fetch(url, {\n      method: 'post',\n      credentials: 'include',\n      body: formData\n    })\n      .then(resp => {\n        return resp.json();\n      })\n      .then(returnedValue => {\n        success(returnedValue);\n      })\n      .catch(function(ex) {\n        if (error) {\n          error(ex);\n        }\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
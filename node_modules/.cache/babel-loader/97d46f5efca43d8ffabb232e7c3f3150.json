{"ast":null,"code":"import _regeneratorRuntime from\"/home/trungnd2/Documents/project/new/insee-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/trungnd2/Documents/project/new/insee-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/trungnd2/Documents/project/new/insee-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/trungnd2/Documents/project/new/insee-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import'whatwg-fetch';var fetch=window.fetch;var UploadFileUtil=/*#__PURE__*/function(){function UploadFileUtil(){_classCallCheck(this,UploadFileUtil);}_createClass(UploadFileUtil,null,[{key:\"uploadImg\",value:function(){var _uploadImg=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(photo){var formData,ctrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append(\"file\",photo);ctrl=new AbortController();setTimeout(function(){return ctrl.abort();},5000);_context.prev=4;_context.next=7;return fetch('https://cuahang.insee.udev.com.vn/upload/image',{method:\"POST\",body:formData}).then(function(resp){return resp.json();});case 7:return _context.abrupt(\"return\",_context.sent);case 10:_context.prev=10;_context.t0=_context[\"catch\"](4);console.log('Huston we have problem...:',_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[4,10]]);}));function uploadImg(_x){return _uploadImg.apply(this,arguments);}return uploadImg;}()}]);return UploadFileUtil;}();export{UploadFileUtil as default};","map":{"version":3,"sources":["/home/trungnd2/Documents/project/new/insee-client/src/utils/UploadFileUtil.js"],"names":["fetch","window","UploadFileUtil","photo","formData","FormData","append","ctrl","AbortController","setTimeout","abort","method","body","then","resp","json","console","log"],"mappings":"2pBAAA,MAAO,cAAP,CACA,GAAIA,CAAAA,KAAK,CAAGC,MAAM,CAACD,KAAnB,C,GAEqBE,CAAAA,c,oOAGjB,iBAAuBC,KAAvB,oIACQC,QADR,CACmB,GAAIC,CAAAA,QAAJ,EADnB,CAEID,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBH,KAAxB,EAEMI,IAJV,CAIiB,GAAIC,CAAAA,eAAJ,EAJjB,CAKIC,UAAU,CAAC,iBAAMF,CAAAA,IAAI,CAACG,KAAL,EAAN,EAAD,CAAqB,IAArB,CAAV,CALJ,sCAQqBV,CAAAA,KAAK,CAAC,gDAAD,CAAmD,CAAEW,MAAM,CAAE,MAAV,CAAkBC,IAAI,CAAER,QAAxB,CAAnD,CAAL,CACRS,IADQ,CACH,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EADD,CARrB,iHAWQC,OAAO,CAACC,GAAR,CAAY,4BAAZ,cAXR,qE,4HAHiBf,c","sourcesContent":["import 'whatwg-fetch';\nlet fetch = window.fetch;\n\nexport default class UploadFileUtil {\n    \n\n    static async uploadImg(photo) {\n        let formData = new FormData();\n        formData.append(\"file\", photo);\n\n        const ctrl = new AbortController() \n        setTimeout(() => ctrl.abort(), 5000);\n\n        try {\n            return await fetch('https://cuahang.insee.udev.com.vn/upload/image', { method: \"POST\", body: formData })\n                .then(resp => resp.json());\n        } catch (e) {\n            console.log('Huston we have problem...:', e);\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}
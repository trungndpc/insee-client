{"ast":null,"code":"var _jsxFileName = \"/home/trungnd2/Downloads/insee-client/src/App.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-has-content */\nimport { useEffect, useState } from \"react\";\nimport BottomSheet from \"./bottom-sheet\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport OAModel from \"./model/OAModel\";\nimport LangUtil from './utils/LangUtil';\nimport ListArticle from \"./article\";\nimport NativeModel from \"./model/NativeModel\";\nimport GlobalModel from \"./model/GlobalModel\";\nimport \"./resource/App.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst owlClass = \"App\";\n\nconst Empty = ({\n  openProfileOA\n}) => {\n  const owlClass = \"empty\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: owlClass,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://stc-zoa-profile.zdn.vn/images/warning.svg\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${owlClass}__text`,\n        children: LangUtil.get('oa-disabled')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_c = Empty;\n\nconst ThreeDots = ({\n  isFollowed,\n  onOpenPopupUnFollow,\n  oaid,\n  name,\n  isShowCallBtn,\n  msgCall\n}) => {\n  const items = [{\n    text: LangUtil.get('share-oa-to-friend'),\n    onClick: () => NativeModel.openShareSheet(oaid)\n  }, {\n    text: LangUtil.get('view-qr-code-oa'),\n    onClick: () => NativeModel.openQR(oaid, name)\n  }];\n  isShowCallBtn && items.splice(0, 0, {\n    text: LangUtil.get('lb-call'),\n    onClick: () => NativeModel.callToOA(oaid, msgCall)\n  });\n  return /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(BottomSheet, {\n      items: isFollowed ? [...items, {\n        text: LangUtil.get('label-unfollow-oa'),\n        onClick: () => onOpenPopupUnFollow()\n      }, {\n        text: LangUtil.get('label-report-oa'),\n        color: \"#FE5050\",\n        onClick: () => NativeModel.reportAbuse(oaid)\n      }] : [...items, {\n        text: LangUtil.get('report'),\n        color: \"#FE5050\",\n        onClick: () => NativeModel.reportAbuse(oaid)\n      }],\n      startHidden: true,\n      element: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://stc-zoa-profile.zdn.vn/images/three-dots.svg\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ThreeDots;\n\nfunction App() {\n  _s();\n\n  const [oa, setOA] = useState();\n\n  const fetchProfile = oaid => {\n    OAModel.getProfile(oaid).then(resp => {\n      if (resp.error == 0) {\n        let oa = resp.data;\n        setOA(oa);\n        isShouldShowCallBtn(oa);\n      }\n    });\n  };\n\n  const isShowButtonLoadMore = () => {\n    setTimeout(() => {\n      var element = document.getElementById('desc-box');\n\n      if (element) {\n        if (element.offsetHeight < element.scrollHeight || element.offsetWidth < element.scrollWidth) {\n          setIsShowBtnLoadMoreDesc(true);\n        } else {\n          setIsShowBtnLoadMoreDesc(false);\n        }\n      }\n    }, 500);\n  };\n\n  const isShouldShowCallBtn = oa => {\n    if (GlobalModel.isSupportCallOa() && oa.is_can_call && oa.call_msg) {\n      setIsShowCallBtn(true);\n    }\n  };\n\n  useEffect(() => {\n    NativeModel.offMenu();\n    NativeModel.disableWebviewCheckError();\n    var oa = GlobalModel.getOA();\n\n    if (oa) {\n      setIsFollowed(oa.status == 0);\n      setIsEmpty(false);\n      setOA(oa);\n\n      if (oa.is_disabled) {\n        setIsEmpty(true);\n      }\n\n      fetchProfile(oa.oaid);\n      isShowButtonLoadMore();\n    }\n  }, []);\n\n  if (!oa) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: owlClass,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${owlClass}__shop`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${owlClass}__shop__left`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${owlClass}__shop__left__avatar`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: oa.avatar,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${owlClass}__shop__left__info`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${owlClass}__shop__left__info__company`,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: `${owlClass}__shop__left__info__company__name`,\n              children: oa.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), oa.cate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${owlClass}__shop__left__info__enterprise`,\n            children: \"Qu\\u1EA3ng Ng\\xE3i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${owlClass}__group-btn`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => {\n          sendMsg(oa.oaid);\n        },\n        className: `${owlClass}__group-btn__item`,\n        children: \"Khuy\\u1EBFn m\\xE3i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${owlClass}__group-btn__item follow`,\n        onClick: () => followOA(oa.oaid, ''),\n        children: \"Qu\\xE0 t\\u1EB7ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${owlClass}__detail`,\n      children: [oa.address && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${owlClass}__detail__item`,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://stc-zoa-profile.zdn.vn/images/location.svg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `${owlClass}__detail__item__text`,\n          children: oa.address.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), oa.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${owlClass}__detail__item`,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://stc-zoa-profile.zdn.vn/images/phone.svg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => window.open(`tel:${oa.phone}`),\n          className: `${owlClass}__detail__item__text primary`,\n          children: oa.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), oa.articles && /*#__PURE__*/_jsxDEV(ListArticle, {\n      oaid: oa.oaid,\n      data: oa.articles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"hn/32mO/cm5Z7Bqvqii0Q1JEkyY=\");\n\n_c3 = App;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Empty\");\n$RefreshReg$(_c2, \"ThreeDots\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"sources":["/home/trungnd2/Downloads/insee-client/src/App.tsx"],"names":["useEffect","useState","BottomSheet","MuiThemeProvider","OAModel","LangUtil","ListArticle","NativeModel","GlobalModel","owlClass","Empty","openProfileOA","get","ThreeDots","isFollowed","onOpenPopupUnFollow","oaid","name","isShowCallBtn","msgCall","items","text","onClick","openShareSheet","openQR","splice","callToOA","color","reportAbuse","App","oa","setOA","fetchProfile","getProfile","then","resp","error","data","isShouldShowCallBtn","isShowButtonLoadMore","setTimeout","element","document","getElementById","offsetHeight","scrollHeight","offsetWidth","scrollWidth","setIsShowBtnLoadMoreDesc","isSupportCallOa","is_can_call","call_msg","setIsShowCallBtn","offMenu","disableWebviewCheckError","getOA","setIsFollowed","status","setIsEmpty","is_disabled","avatar","cate","sendMsg","followOA","address","phone","window","open","articles"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-has-content */\nimport { useEffect, useState } from \"react\";\n\nimport BottomSheet from \"./bottom-sheet\";\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport OAModel from \"./model/OAModel\";\nimport LangUtil from './utils/LangUtil';\nimport ListArticle from \"./article\";\nimport NativeModel from \"./model/NativeModel\";\nimport GlobalModel from \"./model/GlobalModel\";\n\nimport { Menu, OA } from './interface/index'\n\n\n\nimport \"./resource/App.scss\";\nimport { Popup, ErrorPopup, OutAppPopup } from \"./popup\";\nimport { StatusStore } from \"./component\";\nimport TrackingModel from \"./model/TrackingModel\";\nconst owlClass = \"App\";\n\n\nconst Empty = ({ openProfileOA }: any) => {\n  const owlClass = \"empty\";\n  return (\n    <>\n      <div className={owlClass}>\n        <img src=\"https://stc-zoa-profile.zdn.vn/images/warning.svg\" alt=\"\" />\n        <p className={`${owlClass}__text`}>{LangUtil.get('oa-disabled')}</p>\n      </div>\n    </>\n  );\n};\n\nconst ThreeDots = ({ isFollowed, onOpenPopupUnFollow, oaid, name, isShowCallBtn, msgCall }: any) => {\n  const items = [\n    {\n      text: LangUtil.get('share-oa-to-friend'),\n      onClick: () => NativeModel.openShareSheet(oaid),\n    },\n    {\n      text: LangUtil.get('view-qr-code-oa'),\n      onClick: () => NativeModel.openQR(oaid, name),\n    },\n  ];\n  isShowCallBtn && items.splice(0, 0, {\n    text: LangUtil.get('lb-call'),\n    onClick: () => NativeModel.callToOA(oaid, msgCall),\n  });\n  return (\n    <MuiThemeProvider>\n      <BottomSheet\n        items={\n          isFollowed\n            ? [\n              ...items,\n              {\n                text: LangUtil.get('label-unfollow-oa'),\n                onClick: () => onOpenPopupUnFollow(),\n              },\n              {\n                text: LangUtil.get('label-report-oa'),\n                color: \"#FE5050\",\n                onClick: () => NativeModel.reportAbuse(oaid),\n              },\n            ]\n            : [\n              ...items,\n              {\n                text: LangUtil.get('report'),\n                color: \"#FE5050\",\n                onClick: () => NativeModel.reportAbuse(oaid),\n              },\n            ]\n        }\n        startHidden={true}\n        element={\n          <img src=\"https://stc-zoa-profile.zdn.vn/images/three-dots.svg\" alt=\"\" />\n        }\n      />\n    </MuiThemeProvider>\n  );\n};\n\nfunction App() {\n  const [oa, setOA] = useState<OA>()\n\n  const fetchProfile = (oaid: string) => {\n    OAModel.getProfile(oaid)\n      .then(resp => {\n        if (resp.error == 0) {\n          let oa = resp.data;\n          setOA(oa)\n          isShouldShowCallBtn(oa)\n        }\n      })\n  }\n\n\n  const isShowButtonLoadMore = () => {\n    setTimeout(() => {\n      var element = document.getElementById('desc-box');\n      if (element) {\n        if (element.offsetHeight < element.scrollHeight ||\n          element.offsetWidth < element.scrollWidth) {\n          setIsShowBtnLoadMoreDesc(true);\n        } else {\n          setIsShowBtnLoadMoreDesc(false)\n        }\n      }\n    }, 500);\n  }\n\n  const isShouldShowCallBtn = (oa: OA) => {\n    if (GlobalModel.isSupportCallOa() && oa.is_can_call && oa.call_msg) {\n      setIsShowCallBtn(true)\n    }\n  }\n\n  useEffect(() => {\n    NativeModel.offMenu()\n    NativeModel.disableWebviewCheckError()\n    var oa = GlobalModel.getOA();\n    if (oa) {\n      setIsFollowed(oa.status == 0)\n      setIsEmpty(false)\n      setOA(oa)\n      if (oa.is_disabled) {\n        setIsEmpty(true)\n      }\n      fetchProfile(oa.oaid)\n      isShowButtonLoadMore()\n    }\n  }, [])\n\n  if (!oa) {\n    return <div></div>\n  }\n  return (\n    <div className={owlClass}>\n      <div className={`${owlClass}__shop`}>\n        <div className={`${owlClass}__shop__left`}>\n          <div className={`${owlClass}__shop__left__avatar`}>\n            <img src={oa.avatar} alt=\"\" />\n          </div>\n          <div className={`${owlClass}__shop__left__info`}>\n            <div className={`${owlClass}__shop__left__info__company`}>\n              <h1 className={`${owlClass}__shop__left__info__company__name`}>\n                {oa.name}\n              </h1>\n            </div>\n            {oa.cate &&\n              <span className={`${owlClass}__shop__left__info__enterprise`}>\n                Quảng Ngãi\n              </span>\n            }\n          </div>\n        </div>\n      </div>\n      <div className={`${owlClass}__group-btn`}>\n        <div onClick={() => { sendMsg(oa.oaid) }} className={`${owlClass}__group-btn__item`}>Khuyến mãi</div>\n        <div\n          className={`${owlClass}__group-btn__item follow`}\n          onClick={() => followOA(oa.oaid, '')}\n        >\n          Quà tặng\n        </div>\n      </div>\n      <div className={`${owlClass}__detail`}>\n        {oa.address &&\n\n          <div className={`${owlClass}__detail__item`}>\n            <img\n              src=\"https://stc-zoa-profile.zdn.vn/images/location.svg\"\n              alt=\"\"\n            />\n            <p className={`${owlClass}__detail__item__text`}>\n              {oa.address.name}\n            </p>\n          </div>\n        }\n        {oa.phone &&\n          <div className={`${owlClass}__detail__item`}>\n            <img\n              src=\"https://stc-zoa-profile.zdn.vn/images/phone.svg\"\n              alt=\"\"\n            />\n            <p onClick={() => window.open(`tel:${oa.phone}`)} className={`${owlClass}__detail__item__text primary`}>\n              {oa.phone}\n            </p>\n          </div>\n        }\n      </div>\n      {oa.articles && <ListArticle oaid={oa.oaid} data={oa.articles} />}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
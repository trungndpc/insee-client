{"ast":null,"code":"import LangUtil from '../utils/LangUtil';\nimport ZJSBridge from 'zalo-js-bridge';\nvar methodListener = null;\n\nwindow.menuCallback = function (data) {\n  if (methodListener) {\n    methodListener(data);\n  }\n};\n\nexport default class NativeModel {\n  static openChat(oaid, appId) {\n    var data = {\n      \"uId\": oaid,\n      \"type\": 0,\n      \"appId\": appId,\n      \"sourceId\": \"\",\n      \"sourceIndex\": \"\",\n      \"force\": 0\n    };\n    ZJSBridge.Zalo.openChat(data, e => {});\n  }\n\n  static openShareSheet(oaid) {\n    const link = `https://zalo.me/${oaid}`;\n    var data = {\n      type: 4,\n      link,\n      chatOnly: 1\n    };\n    ZJSBridge.Zalo.openShareSheet(data, e => {\n      console.log(e);\n    });\n  }\n\n  static openQR(oaid, name) {\n    ZJSBridge.Device.viewQr(oaid, name, e => {\n      console.log(e);\n    });\n  }\n\n  static reportAbuse(oaid) {\n    var data = {\n      \"uidto\": oaid,\n      \"type\": 5,\n      \"objectid\": \"\",\n      \"message\": \"\"\n    };\n    ZJSBridge.Zalo.reportAbuse(data, e => {\n      console.log(e);\n    });\n  }\n\n  static createMenu(oa) {\n    var listMenus = [{\n      \"title\": LangUtil.get('share-oa-to-friend'),\n      \"action\": \"action.open.sharesheet\",\n      \"type\": 0,\n      \"data\": {\n        \"type\": 5,\n        \"avt\": oa.avatar,\n        \"uid\": oa.oaid,\n        \"dpn\": oa.name\n      }\n    }, {\n      \"title\": LangUtil.get('view-qr-code-oa'),\n      \"action\": \"action.view.myqr\",\n      \"type\": 0,\n      \"data\": {\n        \"uid\": oa.oaid,\n        \"dpn\": oa.name\n      }\n    }, {\n      \"title\": oa.status == 0 ? LangUtil.get('label-unfollow-oa') : LangUtil.get('label-follow-oa'),\n      \"action\": oa.status == 0 ? \"action.unfollow.oa\" : \"action.follow.oa\",\n      \"type\": 0,\n      \"data\": {\n        \"uid\": oa.oaid\n      }\n    }, {\n      \"title\": LangUtil.get('label-report-oa'),\n      \"action\": \"action.report.abuse\",\n      \"type\": 0,\n      \"data\": {\n        \"uidto\": oa.oaid,\n        \"type\": 5,\n        \"objectid\": \"\",\n        \"message\": \"\"\n      }\n    }];\n    ZJSBridge.H5.configRightMenu(listMenus, 0, 0, 'menuCallback', function (resp) {});\n  }\n\n  static offMenu() {\n    var listMenus = [];\n    ZJSBridge.H5.configRightMenu(listMenus, 0, 0, 'menuCallback', function (resp) {});\n  }\n\n  static registerListenerMenuCallback(method) {\n    methodListener = method;\n  }\n\n  static openUrl(url) {\n    ZJSBridge.Zalo.openInApp(url, e => {});\n  }\n\n  static disableWebviewCheckError() {\n    ZJSBridge.callCustomAction(\"action.webview.checkResError\", {\n      \"setting_check_loading_res_error\": false\n    }, e => console.log(e));\n  }\n\n  static callToOA(oaid, msg) {\n    var data = {\n      \"oacall_param\": JSON.parse(msg),\n      \"zapp\": \"3341698714747330491\",\n      \"oaid\": oaid\n    };\n    ZJSBridge.callCustomAction(\"action.oacall.audio\", data, e => {\n      console.log(e);\n    });\n  }\n\n  static followOA(uid, cb) {\n    ZJSBridge.Zalo.followOA({\n      \"uid\": uid\n    }, cb);\n  } // https://zalo.me/app/link/zapps/%d/\n\n\n  static openMiniApp(link) {\n    let splits = link.split(\"zapps/\");\n    let appId = splits[1].split(\"/\")[0];\n    var data = {\n      \"appId\": appId,\n      \"params\": {}\n    };\n    ZJSBridge.Zalo.openMiniApp(data, e => {\n      console.log(e);\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/trungnd2/Downloads/insee-client/src/model/NativeModel.js"],"names":["LangUtil","ZJSBridge","methodListener","window","menuCallback","data","NativeModel","openChat","oaid","appId","Zalo","e","openShareSheet","link","type","chatOnly","console","log","openQR","name","Device","viewQr","reportAbuse","createMenu","oa","listMenus","get","avatar","status","H5","configRightMenu","resp","offMenu","registerListenerMenuCallback","method","openUrl","url","openInApp","disableWebviewCheckError","callCustomAction","callToOA","msg","JSON","parse","followOA","uid","cb","openMiniApp","splits","split"],"mappings":"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","sourcesContent":["import LangUtil from '../utils/LangUtil'\nimport ZJSBridge from 'zalo-js-bridge'\n\nvar methodListener = null;\nwindow.menuCallback = function (data) {\n    if (methodListener) {\n        methodListener(data)\n    }\n}\nexport default class NativeModel {\n\n    static openChat(oaid, appId) {\n        var data = {\n            \"uId\": oaid,\n            \"type\": 0,\n            \"appId\": appId,\n            \"sourceId\": \"\",\n            \"sourceIndex\": \"\",\n            \"force\": 0\n        }\n        ZJSBridge.Zalo.openChat(data, e => { })\n    }\n\n\n    static openShareSheet(oaid) {\n        const link = `https://zalo.me/${oaid}`\n        var data = {\n            type: 4,\n            link,\n            chatOnly: 1,\n        }\n        ZJSBridge.Zalo.openShareSheet(data, e => { console.log(e) })\n    }\n\n    static openQR(oaid, name) {\n        ZJSBridge.Device.viewQr(oaid, name, e => { console.log(e) })\n    }\n\n    static reportAbuse(oaid) {\n        var data = {\n            \"uidto\": oaid,\n            \"type\": 5,\n            \"objectid\": \"\",\n            \"message\": \"\"\n        }\n        ZJSBridge.Zalo.reportAbuse(data, e => { console.log(e) })\n    }\n\n    static createMenu(oa) {\n        var listMenus = [{\n            \"title\": LangUtil.get('share-oa-to-friend'),\n            \"action\": \"action.open.sharesheet\",\n            \"type\": 0,\n            \"data\": {\n                \"type\": 5,\n                \"avt\": oa.avatar,\n                \"uid\": oa.oaid,\n                \"dpn\": oa.name\n            }\n        }, {\n            \"title\": LangUtil.get('view-qr-code-oa'),\n            \"action\": \"action.view.myqr\",\n            \"type\": 0,\n            \"data\": {\n                \"uid\": oa.oaid,\n                \"dpn\": oa.name\n            }\n        }, {\n            \"title\": oa.status == 0 ? LangUtil.get('label-unfollow-oa') : LangUtil.get('label-follow-oa'),\n            \"action\": oa.status == 0 ? \"action.unfollow.oa\" : \"action.follow.oa\",\n            \"type\": 0,\n            \"data\": {\n                \"uid\": oa.oaid\n            }\n        }, {\n            \"title\": LangUtil.get('label-report-oa'),\n            \"action\": \"action.report.abuse\",\n            \"type\": 0,\n            \"data\": {\n                \"uidto\": oa.oaid,\n                \"type\": 5,\n                \"objectid\": \"\",\n                \"message\": \"\"\n            }\n        }\n        ]\n        ZJSBridge.H5.configRightMenu(listMenus, 0, 0, 'menuCallback', function (resp) {\n        })\n    }\n\n    static offMenu() {\n        var listMenus = []\n        ZJSBridge.H5.configRightMenu(listMenus, 0, 0, 'menuCallback', function (resp) {\n        })\n    }\n\n    static registerListenerMenuCallback(method) {\n        methodListener = method\n    }\n\n    static openUrl(url) {\n        ZJSBridge.Zalo.openInApp(url, e => { })\n    }\n\n    static disableWebviewCheckError() {\n        ZJSBridge.callCustomAction(\"action.webview.checkResError\", { \"setting_check_loading_res_error\": false }, (e) => console.log(e));\n    }\n\n    static callToOA(oaid, msg) {\n        var data = {\n            \"oacall_param\": JSON.parse(msg),\n            \"zapp\": \"3341698714747330491\",\n            \"oaid\": oaid\n        }\n        ZJSBridge.callCustomAction(\"action.oacall.audio\", data, (e) => {\n            console.log(e)\n        });\n    }\n\n    static followOA(uid, cb) {\n        ZJSBridge.Zalo.followOA({\"uid\": uid}, cb)\n    }\n\n    // https://zalo.me/app/link/zapps/%d/\n    static openMiniApp(link) {\n        let splits = link.split(\"zapps/\");\n        let appId = splits[1].split(\"/\")[0];\n        var data = {\n            \"appId\": appId,\n            \"params\": {\n            }\n        }\n        ZJSBridge.Zalo.openMiniApp(data, e => {console.log(e)})\n    }\n}"]},"metadata":{},"sourceType":"module"}